<!-- <router-outlet></router-outlet> -->

<div class="area">
  <ul class="circles">
    <li></li>
    <li></li>
    <li></li>
    <li></li>
    <li></li>
    <li></li>
    <li></li>
    <li></li>
    <li></li>
    <li></li>
    <li></li>
    <li></li>

    <mat-toolbar class="navbar">
      <div class="title">Unique Resume</div>
      <div>
        <button mat-mini-fab matTooltip="Home" color="none" class="icons">
          <mat-icon color="primary">home</mat-icon>
        </button>
        <button mat-mini-fab matTooltip="Search" color="none" class="icons">
          <mat-icon color="primary">search</mat-icon>
        </button>
        <button mat-mini-fab matTooltip="Contact" color="none" class="icons">
          <mat-icon color="primary">email</mat-icon>
        </button>
        <button mat-mini-fab matTooltip="Account" [matMenuTriggerFor]="personMenu" color="none" class="icons">
          <mat-icon color="primary">person</mat-icon>
        </button>
      </div>
    </mat-toolbar>

    <mat-menu class="mat-menu" #personMenu="matMenu">
      <button mat-menu-item>one</button>
      <button mat-menu-item>one</button>
      <button mat-menu-item>one</button>
    </mat-menu>


    <div id="gap"></div>
    <div class="border">
      <mat-stepper orientation="vertical" animationDuration="0" #stepper>
        <mat-step [stepControl]="personalDetails" label="Personal Details" errorMessage="Some Fields are still empty">
          <mat-hint>NOTE: First letter of the every input should be capital</mat-hint>
          <form [formGroup]="personalDetails">
            <ng-template matStepperIcon="edit">
              <mat-icon>check_circle_outline</mat-icon>
            </ng-template>
            <mat-form-field>
              <mat-label>First Name</mat-label>
              <input matInput formControlName="firstName" required>
              <mat-error *ngIf="personalDetailsControl.firstName.errors?.['required']">First Name is required
              </mat-error>
              <mat-error
                *ngIf="!personalDetailsControl.firstName.errors?.['required'] && personalDetailsControl.firstName.errors?.['pattern']">
                Enter the correct first name</mat-error>
            </mat-form-field>
            <mat-form-field>
              <mat-label>Last Name</mat-label>
              <input matInput formControlName="lastName" required>
              <mat-error *ngIf="personalDetailsControl.lastName.errors?.['required']">Last Name is required</mat-error>
              <mat-error *ngIf="personalDetailsControl.lastName.errors?.['pattern']">Enter the correct last name
              </mat-error>
            </mat-form-field>
            <mat-form-field>
              <mat-label>Phone Number</mat-label>
              <input matInput formControlName="phoneNumber" required>
              <mat-error *ngIf="personalDetailsControl.phoneNumber.errors?.['required']">Phone Number is required
              </mat-error>
              <mat-error
                *ngIf="!personalDetailsControl.phoneNumber.errors?.['required'] && personalDetailsControl.phoneNumber.errors?.['min'] || personalDetailsControl.phoneNumber.errors?.['max']">
                Phone Number should be of 10 characters
              </mat-error>
              <mat-error *ngIf="personalDetailsControl.phoneNumber.errors?.['pattern']">Enter the correct phone number
              </mat-error>
            </mat-form-field>
            <mat-form-field>
              <mat-label>Date Of Birth</mat-label>
              <input matInput formControlName="birthday" [matDatepicker]="picker" id="date-input">
              <mat-datepicker-toggle matSuffix [for]="picker"></mat-datepicker-toggle>
              <mat-datepicker startView="multi-year" #picker></mat-datepicker>
              <mat-hint>MM/DD/YYYY</mat-hint>
              <mat-error>Date of birthday is required</mat-error>
            </mat-form-field>
            <mat-form-field>
              <mat-label>Email</mat-label>
              <input matInput formControlName="email" required>
              <mat-error *ngIf="personalDetailsControl.email.errors?.['required']">Email is required</mat-error>
              <mat-error *ngIf="personalDetailsControl.email.errors?.['email']">Enter the correct email</mat-error>
            </mat-form-field>
            <mat-form-field>
              <mat-label>State</mat-label>
              <input matInput formControlName="state" required>
              <mat-error *ngIf="personalDetailsControl.state.errors?.['required']">State is required</mat-error>
              <mat-error *ngIf="personalDetailsControl.state.errors?.['pattern']">Enter your state correctly</mat-error>
            </mat-form-field>
            <mat-form-field>
              <mat-label>City</mat-label>
              <input matInput formControlName="city" required>
              <mat-error *ngIf="personalDetailsControl.city.errors?.['required']">City is required</mat-error>
            </mat-form-field>
            <mat-form-field>
              <mat-label>Pin Code</mat-label>
              <input matInput formControlName="pinCode" required>
              <mat-error *ngIf="personalDetailsControl.pinCode.errors?.['required']">Pin Code is required</mat-error>
              <mat-error *ngIf="personalDetailsControl.pinCode.errors?.['pattern']">Pin Code should be of 6</mat-error>
            </mat-form-field> <br>
            <mat-radio-group formControlName="gender">
              <mat-radio-button class="gender" value="Male" matInput color="primary" value="1">Male</mat-radio-button>
              <mat-radio-button class="gender" value="Female" matInput color="primary" value="2">Female
              </mat-radio-button>
            </mat-radio-group>
            <mat-form-field style="margin-left: 47px">
              <mat-label>Languages</mat-label>
              <mat-select class="width" formControlName="languagesKnown" multiple required>
                <mat-option *ngFor="let language of languages" value={{language}}>{{language}}</mat-option>
              </mat-select>
              <mat-error>Languages is required</mat-error>
            </mat-form-field>
            <div>
              <button mat-mini-fab color="primary" class="previous-button" matStepperPrevious disabled>
                <mat-icon>keyboard_arrow_up</mat-icon>
              </button>
              <button mat-mini-fab color="primary" class="next-button" matStepperNext>
                <mat-icon>keyboard_arrow_down</mat-icon>
              </button>
            </div>
          </form>
        </mat-step>
        <mat-step [stepControl]="academicDetails" label="Education Details" errorMessage="Some Fields are still empty">
          <mat-hint>NOTE: First letter of the every input should be capital</mat-hint>
          <form [formGroup]="academicDetails">
            <ng-template matStepperIcon="edit">
              <mat-icon>check_circle_outline</mat-icon>
            </ng-template>
            <mat-form-field>
              <mat-label>College Name</mat-label>
              <input matInput formControlName="collegeName" required>
              <mat-error *ngIf="academicDetailsControl.collegeName.errors?.['required']">College Name is required
              </mat-error>
              <mat-error *ngIf="academicDetailsControl.collegeName.errors?.['pattern']">Enter the college name correctly
              </mat-error>
            </mat-form-field>
            <mat-form-field>
              <mat-label>Field Of Study</mat-label>
              <input matInput formControlName="collegeStudy" required>
              <mat-error *ngIf="academicDetailsControl.collegeStudy.errors?.['required']">Field Of Study is required
              </mat-error>
              <mat-error *ngIf="academicDetailsControl.collegeStudy.errors?.['pattern']">Enter the field of study
                correctly
              </mat-error>
            </mat-form-field>
            <mat-form-field>
              <mat-label>College Location</mat-label>
              <input matInput formControlName="collegeLocation" required>
              <mat-error *ngIf="academicDetailsControl.collegeLocation.errors?.['required']">College Location is
                required
              </mat-error>
              <mat-error *ngIf="academicDetailsControl.collegeLocation.errors?.['pattern']">Enter the college location
                correctly
              </mat-error>
            </mat-form-field>
            <mat-form-field>
              <mat-label>College Start and End Year</mat-label>
              <mat-date-range-input #picker>
                <input matStartDate formControlName="collegeStartYear" placeholder="Start year">
                <input matEndDate formControlName="collegeEndYear" placeholder="End year">
              </mat-date-range-input>
              <mat-hint>MM/DD/YYYY â€“ MM/DD/YYYY</mat-hint>
              <mat-error>This field is required</mat-error>
              <mat-datepicker-toggle matSuffix #picker></mat-datepicker-toggle>
              <mat-date-range-picker #picker></mat-date-range-picker>
            </mat-form-field>
            <mat-form-field>
              <mat-label>College CGPA</mat-label>
              <input matInput formControlName="collegeCGPA" required>
              <mat-error>CGPA is required</mat-error>
            </mat-form-field> <br>
            <mat-form-field>
              <mat-label>School Name</mat-label>
              <input matInput formControlName="schoolName" required>
              <mat-error *ngIf="academicDetailsControl.schoolName.errors?.['required']">School Name is required
              </mat-error>
              <mat-error *ngIf="academicDetailsControl.schoolName.errors?.['pattern']">Enter the school name correctly
              </mat-error>
            </mat-form-field>
            <mat-form-field>
              <mat-label>School Location</mat-label>
              <input matInput formControlName="schoolLocation" required>
              <mat-error *ngIf="academicDetailsControl.schoolLocation.errors?.['required']">School Location is required
              </mat-error>
              <mat-error *ngIf="academicDetailsControl.schoolLocation.errors?.['pattern']">Enter the school location
                correctly
              </mat-error>
            </mat-form-field>
            <mat-form-field>
              <mat-label>HSC Percentage</mat-label>
              <input matInput formControlName="hscPercentage" required>
              <mat-error>HSC Percentage is required</mat-error>
            </mat-form-field>
            <mat-form-field>
              <mat-label>SSLC Percentage</mat-label>
              <input matInput formControlName="sslcPercentage" required>
              <mat-error>SSLC Percentage is required</mat-error>
            </mat-form-field>
            <div>
              <button mat-mini-fab color="primary" class="previous-button" matStepperPrevious>
                <mat-icon>keyboard_arrow_up</mat-icon>
              </button>
              <button mat-mini-fab color="primary" class="next-button" matStepperNext>
                <mat-icon>keyboard_arrow_down</mat-icon>
              </button>
            </div>
          </form>
        </mat-step>
        <mat-step [stepControl]="experienceDetails" label="Experience" errorMessage="Some Fields are still empty">
          <mat-hint>Maximum 3 experiences allowed</mat-hint>
          <div [formGroup]="experienceDetails">
            <button mat-raised-button color="primary" class="add-btn exp-btn" (click)="addNewExperience()">
              ADD EXPERIENCE &emsp; &emsp;<mat-icon>add_circle</mat-icon>
            </button>
            <ng-container formArrayName="experiences">
              <ng-container *ngFor="let experienceForm of experiences.controls; let idx=index">
                <div class="experience-form-row" [formGroup]="experienceForm">
                  <mat-form-field>
                    <mat-label>Company Name</mat-label>
                    <input matInput formControlName="companyName" required>
                    <mat-error>Company Name is required</mat-error>
                  </mat-form-field>
                  <mat-form-field>
                    <mat-label>Company Location</mat-label>
                    <input matInput formControlName="companyLocation" required>
                    <mat-error>Company Location is required</mat-error>
                  </mat-form-field>
                  <mat-icon class="delete-btn" matTooltip="Delete Experience" matTooltipClass="delete-tool-tip"
                    matTooltipPosition="above" color="warn" (click)="deleteExperience(idx)">remove_circle</mat-icon>
                  <mat-form-field>
                    <mat-label>Start Year</mat-label>
                    <input matInput formControlName="startYear" required>
                    <mat-error>Start Year is required</mat-error>
                  </mat-form-field>
                  <mat-form-field>
                    <mat-label>End Year</mat-label>
                    <input matInput formControlName="endYear" required>
                    <mat-error>End Year is required</mat-error>
                  </mat-form-field>
                  <div class="spacing"></div>
                </div>
              </ng-container>
            </ng-container>
          </div>
          <div>
            <button mat-mini-fab color="primary" class="previous-button" matStepperPrevious>
              <mat-icon>keyboard_arrow_up</mat-icon>
            </button>
            <button mat-mini-fab color="primary" class="next-button" matStepperNext>
              <mat-icon>keyboard_arrow_down</mat-icon>
            </button>
          </div>
        </mat-step>

        <mat-step [stepControl]="projectDetails" label="Projects" errorMessage="Some Fields are still empty">
          <mat-hint>Maximum 2 projects allowed</mat-hint>
          <button mat-raised-button color="primary" class="add-btn" (click)="addNewProjects()">
            ADD PROJECT &emsp; &emsp;<mat-icon>add_circle</mat-icon>
          </button>
          <form [formGroup]="projectDetails">
            <ng-container formArrayName="projects">
              <ng-container *ngFor="let projectForm of projects.controls; let idx=index">
                <div class="project-form-row" [formGroup]="projectForm">
                  <mat-form-field>
                    <mat-label>Project Name</mat-label>
                    <input matInput formControlName="projectName" required>
                    <mat-error>Project Name is required</mat-error>
                  </mat-form-field>
                  <mat-form-field>
                    <mat-label>Project Domain</mat-label>
                    <input matInput formControlName="projectDomain" required>
                    <mat-error>Project Domain is required</mat-error>
                  </mat-form-field>
                  <mat-icon class="delete-btn" matTooltip="Delete Project" matTooltipClass="delete-tool-tip"
                    matTooltipPosition="above" color="warn" (click)="deleteProjects(idx)">remove_circle</mat-icon>
                  <mat-form-field class="description">
                    <mat-label>Description of that project in less than 300 words</mat-label>
                    <textarea maxlength="300" formControlName="projectDescription" autosize matInput></textarea>
                    <mat-error>Project Description is required</mat-error>
                  </mat-form-field>
                  <div class="spacing"></div>
                </div>
              </ng-container>
            </ng-container>
            <div>
              <button mat-mini-fab color="primary" class="previous-button" matStepperPrevious>
                <mat-icon>keyboard_arrow_up</mat-icon>
              </button>
              <button mat-mini-fab color="primary" class="next-button" matStepperNext>
                <mat-icon>keyboard_arrow_down</mat-icon>
              </button>
            </div>
          </form>
        </mat-step>

        <mat-step [stepControl]="skillDetails" label="Skills" errorMessage="Some Fields are still empty">
          <form [formGroup]="skillDetails">
            <mat-hint>Maximum six skills allowed in both section</mat-hint>
            <mat-form-field class="example-chip-list">
              <mat-label>Technical Skills</mat-label>
              <mat-chip-list #techSkillList>
                <mat-chip *ngFor="let techSkill of technicalSkills" (removed)="removeTechSkill(techSkill)">
                  {{techSkill}}
                  <button matChipRemove>
                    <mat-icon>cancel</mat-icon>
                  </button>
                </mat-chip>
                <input placeholder="Technical Skills..." [matChipInputFor]="techSkillList"
                  formControlName="technicalSkill" [matChipInputSeparatorKeyCodes]="separatorKeysCodes"
                  [matChipInputAddOnBlur]="addOnBlur" (matChipInputTokenEnd)="addTechSkills($event)">
              </mat-chip-list>
              <mat-error *ngIf="isTechSkillEmpty">Technical Skills are required</mat-error>
              <!-- <mat-error *ngIf="skillDetailsControl.technicalSkill.touched && skillDetailsControl.technicalSkill.errors?.['required']">Required</mat-error> -->
              <mat-error *ngIf="techSkillList.errorState">Duplicate values are not allowed</mat-error>
            </mat-form-field>
            <mat-form-field class="example-chip-list">
              <mat-label>Non Technical Skills</mat-label>
              <mat-chip-list #nonTechSkillList>
                <mat-chip *ngFor="let nonTechSkill of nonTechnicalSkills" (removed)="removeNonTechSkill(nonTechSkill)">
                  {{nonTechSkill}}
                  <button matChipRemove>
                    <mat-icon>cancel</mat-icon>
                  </button>
                </mat-chip>
                <input placeholder="Non Technical Skill..." [matChipInputFor]="nonTechSkillList"
                  formControlName="nonTechnicalSkill" [matChipInputSeparatorKeyCodes]="separatorKeysCodes"
                  [matChipInputAddOnBlur]="addOnBlur" (matChipInputTokenEnd)="addNonTechSkills($event)">
              </mat-chip-list>
              <!-- <mat-error *ngIf="chipList.errorState">Too many chips</mat-error> -->
              <mat-error *ngIf="nonTechSkillList.errorState">Duplicate values are not allowed</mat-error>
            </mat-form-field>
            <div>
              <button mat-mini-fab color="primary" class="previous-button" matStepperPrevious>
                <mat-icon>keyboard_arrow_up</mat-icon>
              </button>
              <button mat-mini-fab color="primary" class="next-button" matStepperNext>
                <mat-icon>keyboard_arrow_down</mat-icon>
              </button>
            </div>
          </form>
        </mat-step>
        <mat-step [stepControl]="additionalDetails" label="Additional Details"
          errorMessage="Some Fields are still empty">
          <form [formGroup]="additionalDetails">
            <ng-template matStepperIcon="edit">
              <mat-icon>check_circle_outline</mat-icon>
            </ng-template>
            <mat-form-field class="description">
              <mat-label>Short description about yourself</mat-label>
              <textarea maxlength="300" formControlName="description" autosize matInput></textarea>
              <mat-error *ngIf="additionalDetailsControl.description.errors?.['required']">Description is required
              </mat-error>
            </mat-form-field>
            <mat-form-field class="example-chip-list">
              <mat-label>Hobbies</mat-label>
              <mat-chip-list #hobbyList>
                <mat-chip *ngFor="let hobby of hobbies" (removed)="removeHobbies(hobby)">
                  {{hobby}}
                  <button matChipRemove>
                    <mat-icon>cancel</mat-icon>
                  </button>
                </mat-chip>
                <input placeholder="Hobbies..." [matChipInputFor]="hobbyList" formControlName="hobbies"
                  [matChipInputSeparatorKeyCodes]="separatorKeysCodes" [matChipInputAddOnBlur]="addOnBlur"
                  (matChipInputTokenEnd)="addHobbies($event)">
              </mat-chip-list>
              <!-- <mat-error *ngIf="skillDetailsControl.technicalSkill.errors?.['required']">Required</mat-error> -->
              <mat-error *ngIf="hobbyList.errorState">Duplicate values are not allowed</mat-error>
            </mat-form-field>
            <mat-form-field>
              <mat-label>Github Profile</mat-label>
              <input matInput formControlName="githubURL" required>
              <mat-error *ngIf="additionalDetailsControl.githubURL.errors?.['required']">GitHub URL is required
              </mat-error>
              <!-- <mat-error *ngIf="additionalDetailsControl.githubURL.errors?.['minlength']">Must be 4 characters long</mat-error> -->
            </mat-form-field>
            <mat-form-field>
              <mat-label>LinkedIn Profile</mat-label>
              <input matInput formControlName="linkedInURL" required>
              <mat-error *ngIf="additionalDetailsControl.linkedInURL.errors?.['required']">linkedIn URL is required
              </mat-error>
              <!-- <mat-error *ngIf="additionalDetailsControl.githubURL.errors?.['minlength']">Must be 4 characters long</mat-error> -->
            </mat-form-field> <br>
            <mat-form-field appearance="fill" id="profile-picture-form-field">
              <mat-label>Profile Picture</mat-label>
              <ngx-mat-file-input formControlName="profilePicture" type="file" (change)="load($event)" #removableInput
                required></ngx-mat-file-input>
              <button mat-icon-button matSuffix *ngIf="!removableInput.empty" (click)="setImageCondition()"
                (click)="removableInput.clear($event)">
                <mat-icon matSuffix>clear</mat-icon>
              </button>
              <mat-icon *ngIf="removableInput.empty" matSuffix>folder</mat-icon>
              <mat-error *ngIf="removableInput.empty || additionalDetailsControl.profilePicture.errors?.['required']">
                Profile Picture is required</mat-error>
            </mat-form-field>
            <img *ngIf="isImageUploaded" id="image-preview" [src]="imageUrl" height="200">
            <p id="image-preview-text" *ngIf="isImageUploaded">&emsp;UPLOADED IMAGE</p>
            <mat-icon class="image-preview-icon">arrow_back</mat-icon>
          </form>

          <div>
            <button mat-mini-fab color="primary" class="previous-button" matStepperPrevious>
              <mat-icon>keyboard_arrow_up</mat-icon>
            </button>
            <button mat-button color="primary" class="next-button" (click)="showSwalFire()">Finish</button>
          </div>

        </mat-step>
      </mat-stepper>
      <!-- <button id="jspdf-button" class="btn btn-primary">asdfasfd</button> -->
    </div>
  </ul>
</div>